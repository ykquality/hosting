<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<!--<script src='https://ykquality.github.io/hosting/jquery.min.js' type='text/javascript'></script>-->
<!--<script src='https://ykquality.github.io/hosting/jquery.tablesorter.min.js' type='text/javascript'></script>-->
<!--<script src='https://ykquality.github.io/hosting/jquery.metadata.js' type='text/javascript'></script>-->

<script src='https://ykquality.github.io/hosting/jquery.min.js' type='text/javascript'></script>
<script src='https://ykquality.github.io/hosting/jquery.metadata.js' type='text/javascript'></script>
<link rel="stylesheet" type="text/css" href='https://ykquality.github.io/hosting/tablesorter-master/css/theme.default.css' />
<script src='https://ykquality.github.io/hosting/tablesorter-master/js/jquery.tablesorter.widgets.js' type='text/javascript'></script>
<script src='https://ykquality.github.io/hosting/tablesorter-master/js/jquery.tablesorter.js' type='text/javascript'></script>
<link rel="stylesheet" href='https://ykquality.github.io/hosting/DataTables/datatables.min.css'/> 
<script src='https://ykquality.github.io/hosting/DataTables/datatables.min.js'></script>



</head>
<body>
<script type="text/javascript">

var NUM=0;
var AKB="Member_AKB";
var AKB8="Member_AKB8";
var SKE="Member_SKE";
var NMB="Member";
var HKT="Member_HKT";
var NGT="Member_NGT";
var STU="Member_STU";
var JKT="Member_JKT";
var TPE="Member_TPE";
var BNK="Member_BNK";
var NOGI="Member_NOGI";
var KEYA="Member_KEYA";
var HINA="Member_HINA";
var YOSHI="Member_YOSHI";

$(document).ready(function () {
	allcheck();
});
function allcheck(){
	console.log("allcheck");
	alldel();
	read(AKB);
	read(AKB8);
	read(SKE);
	read(NMB);
	read(HKT);
	read(NGT);
	read(STU);
	read(JKT);
	read(TPE);
	read(BNK);
	read(NOGI);
	read(KEYA);
	read(HINA);
	read(YOSHI);
}
function groupname(file){
	var r = "";
	switch (file) {
		case AKB:r="AKB48";break;
		case AKB8:r="team8";break;
		case SKE:r="SKE48";break;
		case NMB:r="NMB48";break;
		case HKT:r="HKT48";break;
		case NGT:r="NGT48";break;
		case STU:r="STU48";break;
		case TPE:r="TPE48";break;
		case BNK:r="BNK48";break;
		case JKT:r="JKT48";break;
		case NOGI:r="乃木坂46";break;
		case KEYA:r="欅坂46";break;
		case HINA:r="日向坂46";break;
		case YOSHI:r="吉本坂46";break;
	}
	return r;

}
function check(file)
{
	alldel();
	read(file);
}
function alldel()
{
	del("output1");
	del("output2");
	del("output3");
}
function del(output)
{
	NUM=0;
	var ele = document.getElementById(output);
	while (ele.firstChild) {
		ele.removeChild(ele.firstChild);
	}
}

function read(file)
{
 $.getJSON("https://ykquality.github.io/hosting/"+file+".json", function(data){
 //$.getJSON(file+".json", function(data){ //dev
 
  for(var key in data){
   if(data[key].status.indexOf("graduate")>-1)
    continue;
    
   NUM++;
   var birth = parseInt(data[key].birth.replace(/-/g,""));
   var today = new Date();
   today=today.getFullYear()*10000+today.getMonth()*100+100+today.getDate();
   var age=Math.floor((today-birth)/10000);
   
   //console.log(data[key].name_ja);
   //console.log(data[key].name_kana);
   var sortvalue=getSortValue(data[key].name_kana,7);
   //console.log(sortvalue);
   var birth_m=data[key].birth.substring(5,7);
   var birth_d=data[key].birth.substring(8,10);
   var sortvalue_b=birth_m+""+birth_d;
   //console.log(sortvalue_b);
   
   var html="<tr>"
         +"<td class='group' style='text-align:center;'>" +groupname(file)+"</td>"
         +"<td class='name' class={sortValue:"+sortvalue+"} >" +data[key].name_ja+"</td>"
         +"<td class='birth' class={sortValue:"+sortvalue_b+"} style='text-align:center;'>"+birth_m+"月"+birth_d+"日"+"</td>"
         +"<td class='age' style='text-align:center;'>"+age+"</td>"
         +"<td class='blood' style='text-align:center;'>"+data[key].blood+"</td>"
         +"<td class='from' style='text-align:center;'>"+data[key].from+"</td>"
         +"<td class='term' style='text-align:center;'>"+data[key].term+"</td>";
   
	$("#output1").append(html);
	$("#NUM").html(NUM+"人");
  }
 //sorter("#tablesorter");
 });
}
</script>


<script type="text/javascript">
function namecheck(output)
{
	var ele = document.getElementsByClassName("name");
	for(var i=0;i<ele.length;i++){
		var name1=ele[i].textContent;
		for(var j=i;j<ele.length;j++){
			var name2=ele[j].textContent;
			var flag=false;
			var html="<tr><td>"+name1+"</td>";
			for(var k=0;k<name1.length;k++){
				if(name1.length>k+1){
					//古賀成美 賀古美成
					if(name1.substring(k,k+1)==name2.substring(k+1,k+2)){
						if(name1.substring(k+1,k+2)==name2.substring(k,k+1)){
							console.log(name1.substring(k,k+1)+":"+name2.substring(k+1,k+2)+" "+name1+":"+name2);
							flag=true;
							k++;
						}
					}
					else{
						flag=false;
						break;
					}
				}
			}
			if(flag==true){
				 html+="<td>"+name2+"</td></tr>";
				 $(output).append(html);
			}
		}
	}
}
</script>

<script type="text/javascript">
function bloodcheck(output)
{
	var eleb = document.getElementsByClassName("blood");
	var elen = document.getElementsByClassName("name");
	var a=[0,""];
	var b=[0,""];
	var o=[0,""];
	var ab=[0,""];
	var f=[0,""];
	
	for(var i=0;i<eleb.length;i++){
		var blood=eleb[i].textContent;
		switch (blood) {
			case "A":a[0]++;a[1]+=" "+elen[i].textContent;break;
			case "B":b[0]++;b[1]+=" "+elen[i].textContent;break;
			case "O":o[0]++;o[1]+=" "+elen[i].textContent;break;
			case "AB":ab[0]++;ab[1]+=" "+elen[i].textContent;break;
			case "不明":f[0]++;f[1]+=" "+elen[i].textContent;break;
			default:console.log(blood);break;
		}
	}
	$(output).append("<tr><td>A型</td><td>"+a[0]+"人</td><td>"+(a[0]/eleb.length*100|0)+"%</td><td>37%</td><td>"+a[1]+"</td></tr>");
	$(output).append("<tr><td>B型</td><td>"+b[0]+"人</td><td>"+(b[0]/eleb.length*100|0)+"%</td><td>22%</td><td>"+b[1]+"</td></tr>");
	$(output).append("<tr><td>O型</td><td>"+o[0]+"人</td><td>"+(o[0]/eleb.length*100|0)+"%</td><td>32%</td><td>"+o[1]+"</td></tr>");
	$(output).append("<tr><td>AB型</td><td>"+ab[0]+"人</td><td>"+(ab[0]/eleb.length*100|0)+"%</td><td>9%</td><td>"+ab[1]+"</td></tr>");
	$(output).append("<tr><td>不明</td><td>"+f[0]+"人</td><td>"+(f[0]/eleb.length*100|0)+"%</td><td>不明</td><td>"+f[1]+"</td></tr>");
	
}
</script>
<script type="text/javascript">
function birthcheck(output)
{
	var eleb = document.getElementsByClassName("blood");
	var elen = document.getElementsByClassName("name");
	var a=[0,""];
	var b=[0,""];
	var o=[0,""];
	var ab=[0,""];
	var f=[0,""];
	
	for(var i=0;i<eleb.length;i++){
		var blood=eleb[i].textContent;
		switch (blood) {
			case "A":a[0]++;a[1]+=" "+elen[i].textContent;break;
			case "B":b[0]++;b[1]+=" "+elen[i].textContent;break;
			case "O":o[0]++;o[1]+=" "+elen[i].textContent;break;
			case "AB":ab[0]++;ab[1]+=" "+elen[i].textContent;break;
			case "不明":f[0]++;f[1]+=" "+elen[i].textContent;break;
			default:console.log(blood);break;
		}
	}
	$(output).append("<tr><td>A型</td><td>"+a[0]+"人</td><td>"+a[1]+"</td></tr>");
	$(output).append("<tr><td>B型</td><td>"+b[0]+"人</td><td>"+b[1]+"</td></tr>");
	$(output).append("<tr><td>O型</td><td>"+o[0]+"人</td><td>"+o[1]+"</td></tr>");
	$(output).append("<tr><td>AB型</td><td>"+ab[0]+"人</td><td>"+ab[1]+"</td></tr>");
	$(output).append("<tr><td>不明</td><td>"+f[0]+"人</td><td>"+f[1]+"</td></tr>");
	
}
</script>
<script type="text/javascript">
function fromcheck(output)
{
	var eleb = document.getElementsByClassName("blood");
	var elen = document.getElementsByClassName("name");
	var a=[0,""];
	var b=[0,""];
	var o=[0,""];
	var ab=[0,""];
	var f=[0,""];
	
	for(var i=0;i<eleb.length;i++){
		var blood=eleb[i].textContent;
		switch (blood) {
			case "A":a[0]++;a[1]+=" "+elen[i].textContent;break;
			case "B":b[0]++;b[1]+=" "+elen[i].textContent;break;
			case "O":o[0]++;o[1]+=" "+elen[i].textContent;break;
			case "AB":ab[0]++;ab[1]+=" "+elen[i].textContent;break;
			case "不明":f[0]++;f[1]+=" "+elen[i].textContent;break;
			default:console.log(blood);break;
		}O型32%、A型、B型22%、AB型9%
	}
	
}
</script>

<script type="text/javascript">
function sorter(tablesorter)
{
 $(tablesorter).tablesorter({
  widgets:["zebra"]
 });
 /*/
 $(tablesorter).dataTable({
    "bPaginate": false,
    "bLengthChange": false
  });/**/
}
</script>



<br />
<input type="button" value="Member_AKB" onclick="check('Member_AKB');"/><br />
<input type="button" value="Member_AKB8" onclick="check('Member_AKB8');"/><br />
<input type="button" value="Member_SKE" onclick="check('Member_SKE');"/><br />
<input type="button" value="Member_NMB" onclick="check('Member');"/><br />
<input type="button" value="Member_HKT" onclick="check('Member_HKT');"/><br />
<input type="button" value="Member_NGT" onclick="check('Member_NGT');"/><br />
<input type="button" value="Member_STU" onclick="check('Member_STU');"/><br />
<input type="button" value="Member_JKT" onclick="check('Member_JKT');"/><br />
<input type="button" value="Member_TPE" onclick="check('Member_TPE');"/><br />
<input type="button" value="Member_BNK" onclick="check('Member_BNK');"/><br />
<input type="button" value="Member_NOGI" onclick="check('Member_NOGI');"/><br />
<input type="button" value="Member_KEYA" onclick="check('Member_KEYA');"/><br />
<input type="button" value="Member_HINA" onclick="check('Member_HINA');"/><br />
<input type="button" value="Member_YOSHI" onclick="check('Member_YOSHI');"/><br />
<input type="button" value="allcheck" onclick="allcheck();"/><br />
<input type="button" value="del" onclick="alldel();"/><br />
<input type="button" value="名前1" onclick="namecheck('#output2');"/><br />
<input type="button" value="血液型1" onclick="bloodcheck('#output3');"/><br />
<input type="button" value="sorter" onclick="sorter('.tablesorter');"/><br />

<div id="NUM"></div>

<table border="1" cellpadding="2" cellspacing="0">
<thead>
<tr>
<th width="30">名前1</th>
<th width="30">名前2</th>
<tbody id="output2">
</tbody>
</table>

<table border="1" cellpadding="2" cellspacing="0">
<thead>
<tr>
<th width="30">血液型</th>
<th width="30">人数</th>
<th width="30">割合 グループ内</th>
<th width="30">割合 日本の標準</th>
<th width="30">名前</th>
<tbody id="output3">
</tbody>
</table>

<table border="1" cellpadding="2" cellspacing="0" class="tablesorter">
<thead bgcolor="#10F0F6">
<tr>
<th width="30">グループ</th>
<th class="{sorter:'metadata'}" width="90">名前</th>
<th class="{sorter:'metadata'}" width="90">誕生日</th>
<th width="30">年齢</th>
<th width="30">血液型</th>
<th width="40">出身地</th>
<th width="30">期</th>
</tr>
</thead>
<tbody id="output1">
</tbody>
</table>

</body>
</html>
